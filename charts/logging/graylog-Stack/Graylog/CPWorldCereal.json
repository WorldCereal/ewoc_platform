{
  "v": 1,
  "id": "642e10ac-802a-45a5-8479-08b2bd9480b5",
  "rev": 1,
  "name": "Worldcereal",
  "summary": "WorldCereal CP",
  "description": "",
  "vendor": "CS Group",
  "url": "",
  "parameters": [],
  "entities": [
    {
      "v": "1",
      "type": {
        "name": "pipeline_rule",
        "version": "1"
      },
      "id": "ff6b9c03-9169-4d9b-8bef-6cfea6f2a134",
      "data": {
        "title": {
          "@type": "string",
          "@value": "function_keycloak_extract_error_events"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "rule \"function_keycloak_extract_error_events\"\nwhen\n  has_field(\"log\")\nthen\n    let args = regex(\" error=(\\\\S*),\",to_string($message.log));\n    set_field(\"error\", args[\"0\"]);\nend\n"
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "dashboard",
        "version": "2"
      },
      "id": "a01916ba-c9fc-423b-9e12-68745d5b3bcd",
      "data": {
        "type": "DASHBOARD",
        "title": {
          "@type": "string",
          "@value": "Keycloak events"
        },
        "summary": {
          "@type": "string",
          "@value": ""
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "search": {
          "queries": [
            {
              "id": "3415aefe-c4c3-43de-aaff-b150133fe7de",
              "timerange": {
                "type": "relative",
                "from": 300
              },
              "query": {
                "type": "elasticsearch",
                "query_string": ""
              },
              "search_types": [
                {
                  "timerange": {
                    "type": "relative",
                    "from": 604800
                  },
                  "query": {
                    "type": "elasticsearch",
                    "query_string": "source:keycloak AND type:\"LOGIN_ERROR\""
                  },
                  "streams": [],
                  "id": "00dd6bcb-13d7-4d10-90e2-9b2458940596",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "Nb of events",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [
                    {
                      "type": "time",
                      "field": "timestamp",
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "column_groups": [],
                  "filter": null
                },
                {
                  "timerange": {
                    "type": "relative",
                    "from": 604800
                  },
                  "query": {
                    "type": "elasticsearch",
                    "query_string": "source:keycloak AND type:\"LOGIN\""
                  },
                  "streams": [],
                  "id": "f96fa4e3-f0ca-4d94-a666-e69372ca7214",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "Nb of events",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [
                    {
                      "type": "values",
                      "field": "username",
                      "limit": 15
                    }
                  ],
                  "column_groups": [],
                  "filter": null
                },
                {
                  "timerange": {
                    "type": "relative",
                    "from": 604800
                  },
                  "query": {
                    "type": "elasticsearch",
                    "query_string": "source:keycloak"
                  },
                  "streams": [],
                  "id": "e90d80b5-499d-4e5f-b426-d632ab7310b2",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "Nb of events",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [
                    {
                      "type": "time",
                      "field": "timestamp",
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "column_groups": [],
                  "filter": null
                },
                {
                  "timerange": {
                    "type": "relative",
                    "from": 604800
                  },
                  "query": {
                    "type": "elasticsearch",
                    "query_string": "source:keycloak"
                  },
                  "streams": [],
                  "id": "670bac65-22bd-4394-8f6f-6b45e37be79f",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "Message Count",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [],
                  "column_groups": [],
                  "filter": null
                },
                {
                  "timerange": {
                    "type": "relative",
                    "from": 604800
                  },
                  "query": {
                    "type": "elasticsearch",
                    "query_string": "source:keycloak AND type:\"LOGIN\""
                  },
                  "streams": [],
                  "id": "90bda788-bdb0-4fd7-a2fc-d166c27989ca",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "Nb of events",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [
                    {
                      "type": "time",
                      "field": "timestamp",
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "column_groups": [],
                  "filter": null
                },
                {
                  "timerange": {
                    "type": "relative",
                    "from": 604800
                  },
                  "query": {
                    "type": "elasticsearch",
                    "query_string": "source:keycloak AND type:\"LOGIN_ERROR\""
                  },
                  "streams": [],
                  "id": "2e6885d4-51d3-411c-ad52-04b7190f5754",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "Nb of events",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [
                    {
                      "type": "values",
                      "field": "username",
                      "limit": 15
                    }
                  ],
                  "column_groups": [],
                  "filter": null
                }
              ]
            }
          ],
          "parameters": [],
          "requires": {},
          "owner": "admin",
          "created_at": "2022-03-30T12:37:36.816Z"
        },
        "properties": [],
        "requires": {},
        "state": {
          "3415aefe-c4c3-43de-aaff-b150133fe7de": {
            "selected_fields": null,
            "static_message_list_id": null,
            "titles": {
              "tab": {
                "title": "Page#1"
              },
              "widget": {
                "c85bea28-fb49-4fbc-8415-612db9d29c8c": "Number of keycloak events",
                "53be8154-464b-416b-97a6-fef574c85e74": "Nb of events by timestamp",
                "945efe46-3ab6-4700-948e-d3899ad8ac33": "Nb of failed login by timestamp",
                "709d588a-e264-4ea9-ac02-058242f74f94": "Nb of success login by timestamp",
                "5ddb1673-b475-49f6-bdb4-66a78ac039d6": "Success login usernames",
                "1f245cc6-3305-4ff7-bd98-f2c4f3b31e9e": "Failed login username"
              }
            },
            "widgets": [
              {
                "id": "53be8154-464b-416b-97a6-fef574c85e74",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "from": 604800
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source:keycloak"
                },
                "streams": [],
                "config": {
                  "row_pivots": [
                    {
                      "field": "timestamp",
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": "Nb of events"
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "line",
                  "visualization_config": {
                    "interpolation": "linear"
                  },
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              },
              {
                "id": "945efe46-3ab6-4700-948e-d3899ad8ac33",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "from": 604800
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source:keycloak AND type:\"LOGIN_ERROR\""
                },
                "streams": [],
                "config": {
                  "row_pivots": [
                    {
                      "field": "timestamp",
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": "Nb of events"
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "line",
                  "visualization_config": {
                    "interpolation": "linear"
                  },
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              },
              {
                "id": "5ddb1673-b475-49f6-bdb4-66a78ac039d6",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "from": 604800
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source:keycloak AND type:\"LOGIN\""
                },
                "streams": [],
                "config": {
                  "row_pivots": [
                    {
                      "field": "username",
                      "type": "values",
                      "config": {
                        "limit": 15
                      }
                    }
                  ],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": "Nb of events"
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "table",
                  "visualization_config": null,
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              },
              {
                "id": "709d588a-e264-4ea9-ac02-058242f74f94",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "from": 604800
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source:keycloak AND type:\"LOGIN\""
                },
                "streams": [],
                "config": {
                  "row_pivots": [
                    {
                      "field": "timestamp",
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": "Nb of events"
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "line",
                  "visualization_config": {
                    "interpolation": "linear"
                  },
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              },
              {
                "id": "1f245cc6-3305-4ff7-bd98-f2c4f3b31e9e",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "from": 604800
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source:keycloak AND type:\"LOGIN_ERROR\""
                },
                "streams": [],
                "config": {
                  "row_pivots": [
                    {
                      "field": "username",
                      "type": "values",
                      "config": {
                        "limit": 15
                      }
                    }
                  ],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": "Nb of events"
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "table",
                  "visualization_config": null,
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              },
              {
                "id": "c85bea28-fb49-4fbc-8415-612db9d29c8c",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "from": 604800
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source:keycloak"
                },
                "streams": [],
                "config": {
                  "row_pivots": [],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": "Message Count"
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "numeric",
                  "visualization_config": null,
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              }
            ],
            "widget_mapping": {
              "53be8154-464b-416b-97a6-fef574c85e74": [
                "e90d80b5-499d-4e5f-b426-d632ab7310b2"
              ],
              "c85bea28-fb49-4fbc-8415-612db9d29c8c": [
                "670bac65-22bd-4394-8f6f-6b45e37be79f"
              ],
              "945efe46-3ab6-4700-948e-d3899ad8ac33": [
                "00dd6bcb-13d7-4d10-90e2-9b2458940596"
              ],
              "709d588a-e264-4ea9-ac02-058242f74f94": [
                "90bda788-bdb0-4fd7-a2fc-d166c27989ca"
              ],
              "5ddb1673-b475-49f6-bdb4-66a78ac039d6": [
                "f96fa4e3-f0ca-4d94-a666-e69372ca7214"
              ],
              "1f245cc6-3305-4ff7-bd98-f2c4f3b31e9e": [
                "2e6885d4-51d3-411c-ad52-04b7190f5754"
              ]
            },
            "positions": {
              "53be8154-464b-416b-97a6-fef574c85e74": {
                "col": 1,
                "row": 2,
                "height": 4,
                "width": 4
              },
              "c85bea28-fb49-4fbc-8415-612db9d29c8c": {
                "col": 5,
                "row": 2,
                "height": 4,
                "width": 3
              },
              "945efe46-3ab6-4700-948e-d3899ad8ac33": {
                "col": 1,
                "row": 6,
                "height": 4,
                "width": 4
              },
              "709d588a-e264-4ea9-ac02-058242f74f94": {
                "col": 5,
                "row": 6,
                "height": 4,
                "width": 4
              },
              "5ddb1673-b475-49f6-bdb4-66a78ac039d6": {
                "col": 5,
                "row": 10,
                "height": 4,
                "width": 4
              },
              "1f245cc6-3305-4ff7-bd98-f2c4f3b31e9e": {
                "col": 1,
                "row": 12,
                "height": 4,
                "width": 4
              }
            },
            "formatting": {
              "highlighting": []
            },
            "display_mode_settings": {
              "positions": {}
            }
          }
        },
        "owner": "admin",
        "created_at": "2022-03-30T08:47:28.200Z"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "input",
        "version": "1"
      },
      "id": "27afae67-b80c-443f-b9ad-6e7840fde087",
      "data": {
        "title": {
          "@type": "string",
          "@value": "Keycloak"
        },
        "configuration": {
          "topic_filter": {
            "@type": "string",
            "@value": "^keycloak.logs$"
          },
          "fetch_wait_max": {
            "@type": "integer",
            "@value": 100
          },
          "offset_reset": {
            "@type": "string",
            "@value": "largest"
          },
          "zookeeper": {
            "@type": "string",
            "@value": "127.0.0.1:2181"
          },
          "threads": {
            "@type": "integer",
            "@value": 2
          },
          "custom_properties": {
            "@type": "string",
            "@value": ""
          },
          "group_id": {
            "@type": "string",
            "@value": "graylog2"
          },
          "throttling_allowed": {
            "@type": "boolean",
            "@value": false
          },
          "fetch_min_bytes": {
            "@type": "integer",
            "@value": 5
          },
          "legacy_mode": {
            "@type": "boolean",
            "@value": false
          },
          "override_source": {
            "@type": "string",
            "@value": "keycloak"
          },
          "bootstrap_server": {
            "@type": "string",
            "@value": "kafka.logging.svc.cluster.local:9092"
          }
        },
        "static_fields": {},
        "type": {
          "@type": "string",
          "@value": "org.graylog2.inputs.raw.kafka.RawKafkaInput"
        },
        "global": {
          "@type": "boolean",
          "@value": false
        },
        "extractors": [
          {
            "title": {
              "@type": "string",
              "@value": "unjson"
            },
            "type": {
              "@type": "string",
              "@value": "JSON"
            },
            "cursor_strategy": {
              "@type": "string",
              "@value": "COPY"
            },
            "target_field": {
              "@type": "string",
              "@value": ""
            },
            "source_field": {
              "@type": "string",
              "@value": "message"
            },
            "configuration": {
              "flatten": {
                "@type": "boolean",
                "@value": false
              },
              "list_separator": {
                "@type": "string",
                "@value": ", "
              },
              "kv_separator": {
                "@type": "string",
                "@value": "="
              },
              "key_prefix": {
                "@type": "string",
                "@value": ""
              },
              "key_separator": {
                "@type": "string",
                "@value": "_"
              },
              "replace_key_whitespace": {
                "@type": "boolean",
                "@value": false
              },
              "key_whitespace_replacement": {
                "@type": "string",
                "@value": "_"
              }
            },
            "converters": [],
            "condition_type": {
              "@type": "string",
              "@value": "NONE"
            },
            "condition_value": {
              "@type": "string",
              "@value": ""
            },
            "order": {
              "@type": "integer",
              "@value": 0
            }
          }
        ]
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline_rule",
        "version": "1"
      },
      "id": "ce402a1c-df7d-4e9a-89f5-7936559d924c",
      "data": {
        "title": {
          "@type": "string",
          "@value": "function_keycloak_extract_client_events"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "rule \"function_keycloak_extract_client_events\"\nwhen\n  has_field(\"log\")\nthen\n    let args = regex(\" clientId=(\\\\S*),\",to_string($message.log));\n    set_field(\"client\", args[\"0\"]);\nend\n"
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "input",
        "version": "1"
      },
      "id": "96ff82cf-2ec1-4619-aa20-1ba75bf9a0dd",
      "data": {
        "title": {
          "@type": "string",
          "@value": "VDM"
        },
        "configuration": {
          "topic_filter": {
            "@type": "string",
            "@value": "^vdm.logs$"
          },
          "fetch_wait_max": {
            "@type": "integer",
            "@value": 100
          },
          "offset_reset": {
            "@type": "string",
            "@value": "largest"
          },
          "zookeeper": {
            "@type": "string",
            "@value": "127.0.0.1:2181"
          },
          "threads": {
            "@type": "integer",
            "@value": 2
          },
          "custom_properties": {
            "@type": "string",
            "@value": ""
          },
          "group_id": {
            "@type": "string",
            "@value": "graylog2"
          },
          "throttling_allowed": {
            "@type": "boolean",
            "@value": false
          },
          "fetch_min_bytes": {
            "@type": "integer",
            "@value": 5
          },
          "legacy_mode": {
            "@type": "boolean",
            "@value": false
          },
          "override_source": {
            "@type": "string",
            "@value": "VDM"
          },
          "bootstrap_server": {
            "@type": "string",
            "@value": "kafka.logging.svc.cluster.local:9092"
          }
        },
        "static_fields": {},
        "type": {
          "@type": "string",
          "@value": "org.graylog2.inputs.raw.kafka.RawKafkaInput"
        },
        "global": {
          "@type": "boolean",
          "@value": false
        },
        "extractors": []
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "stream",
        "version": "1"
      },
      "id": "e5974dd5-9658-4e4c-b725-480c4c14ceb6",
      "data": {
        "title": {
          "@type": "string",
          "@value": "Processing Stream"
        },
        "description": {
          "@type": "string",
          "@value": "Processing Stream"
        },
        "disabled": {
          "@type": "boolean",
          "@value": false
        },
        "matching_type": {
          "@type": "string",
          "@value": "AND"
        },
        "stream_rules": [
          {
            "type": {
              "@type": "string",
              "@value": "EXACT"
            },
            "field": {
              "@type": "string",
              "@value": "source"
            },
            "value": {
              "@type": "string",
              "@value": "preprocessing"
            },
            "inverted": {
              "@type": "boolean",
              "@value": false
            },
            "description": {
              "@type": "string",
              "@value": ""
            }
          }
        ],
        "alert_conditions": [],
        "alarm_callbacks": [],
        "outputs": [],
        "default_stream": {
          "@type": "boolean",
          "@value": false
        },
        "remove_matches": {
          "@type": "boolean",
          "@value": false
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "stream",
        "version": "1"
      },
      "id": "6a972024-ca80-4ef6-ab06-331b2a0960ad",
      "data": {
        "title": {
          "@type": "string",
          "@value": "Keycloak Stream"
        },
        "description": {
          "@type": "string",
          "@value": "Stream Keycloak"
        },
        "disabled": {
          "@type": "boolean",
          "@value": false
        },
        "matching_type": {
          "@type": "string",
          "@value": "AND"
        },
        "stream_rules": [
          {
            "type": {
              "@type": "string",
              "@value": "EXACT"
            },
            "field": {
              "@type": "string",
              "@value": "source"
            },
            "value": {
              "@type": "string",
              "@value": "keycloak"
            },
            "inverted": {
              "@type": "boolean",
              "@value": false
            },
            "description": {
              "@type": "string",
              "@value": ""
            }
          }
        ],
        "alert_conditions": [],
        "alarm_callbacks": [],
        "outputs": [],
        "default_stream": {
          "@type": "boolean",
          "@value": false
        },
        "remove_matches": {
          "@type": "boolean",
          "@value": false
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline_rule",
        "version": "1"
      },
      "id": "434e9275-33fc-46c7-a8a4-742f6a79880e",
      "data": {
        "title": {
          "@type": "string",
          "@value": "function_keycloak_extract_type_events"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "rule \"function_keycloak_extract_type_events\"\nwhen\n  has_field(\"log\")\nthen\n    let args = regex(\" type=(\\\\S*),\",to_string($message.log));\n    set_field(\"type\", args[\"0\"]);\nend\n"
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "dashboard",
        "version": "2"
      },
      "id": "e5630daf-5412-4cce-8470-6f56f383216d",
      "data": {
        "type": "DASHBOARD",
        "title": {
          "@type": "string",
          "@value": "Test"
        },
        "summary": {
          "@type": "string",
          "@value": ""
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "search": {
          "queries": [
            {
              "id": "1fc3455d-b109-406b-8f92-4c086cba7d40",
              "timerange": {
                "type": "relative",
                "range": 0
              },
              "query": {
                "type": "elasticsearch",
                "query_string": "source: preprocessing AND NOT \"level=info\" AND NOT ( \"[INFO ]\" OR \"[DEBUG ]\" OR \"Watch pods 200\" OR \"Watch workflowtemplates 200\" OR \"Get leases 200\" OR \"Update leases 200\" OR \"List workflows 200\" OR \"Watch workflows 200\" OR \"Watch configmaps 200\" OR \"Watch cronworkflows 200\" OR \"healthz\")\n"
              },
              "search_types": [
                {
                  "timerange": null,
                  "query": null,
                  "streams": [],
                  "id": "e8bdd54e-6b0d-426d-a321-42410c138f3d",
                  "name": null,
                  "limit": 150,
                  "offset": 0,
                  "decorators": [],
                  "type": "messages",
                  "filter": null
                },
                {
                  "timerange": null,
                  "query": null,
                  "streams": [],
                  "id": "5c0123f0-2314-4208-9cdc-6d12bbd3abb5",
                  "name": "chart",
                  "series": [
                    {
                      "type": "count",
                      "id": "count()",
                      "field": null
                    }
                  ],
                  "sort": [],
                  "rollup": true,
                  "type": "pivot",
                  "row_groups": [
                    {
                      "type": "time",
                      "field": "timestamp",
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "column_groups": [],
                  "filter": null
                }
              ]
            }
          ],
          "parameters": [],
          "requires": {},
          "owner": "admin",
          "created_at": "2022-03-15T09:31:02.591Z"
        },
        "properties": [],
        "requires": {},
        "state": {
          "1fc3455d-b109-406b-8f92-4c086cba7d40": {
            "selected_fields": null,
            "static_message_list_id": null,
            "titles": {
              "widget": {
                "e38b9633-60ce-4b00-986d-236eed7aaa28": "Message Count",
                "638e9cd1-3597-4d8c-a05a-f91eec75d99e": "All Messages"
              },
              "tab": {
                "title": "Page#1"
              }
            },
            "widgets": [
              {
                "id": "638e9cd1-3597-4d8c-a05a-f91eec75d99e",
                "type": "messages",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "range": 0
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source: preprocessing AND NOT \"level=info\" AND NOT ( \"[INFO ]\" OR \"[DEBUG ]\" OR \"Watch pods 200\" OR \"Watch workflowtemplates 200\" OR \"Get leases 200\" OR \"Update leases 200\" OR \"List workflows 200\" OR \"Watch workflows 200\" OR \"Watch configmaps 200\" OR \"Watch cronworkflows 200\" OR \"healthz\")\n"
                },
                "streams": [],
                "config": {
                  "fields": [
                    "timestamp",
                    "source"
                  ],
                  "show_message_row": true,
                  "decorators": [],
                  "sort": [
                    {
                      "type": "pivot",
                      "field": "timestamp",
                      "direction": "Descending"
                    }
                  ]
                }
              },
              {
                "id": "e38b9633-60ce-4b00-986d-236eed7aaa28",
                "type": "aggregation",
                "filter": null,
                "timerange": {
                  "type": "relative",
                  "range": 0
                },
                "query": {
                  "type": "elasticsearch",
                  "query_string": "source: preprocessing AND NOT \"level=info\" AND NOT ( \"[INFO ]\" OR \"[DEBUG ]\" OR \"Watch pods 200\" OR \"Watch workflowtemplates 200\" OR \"Get leases 200\" OR \"Update leases 200\" OR \"List workflows 200\" OR \"Watch workflows 200\" OR \"Watch configmaps 200\" OR \"Watch cronworkflows 200\" OR \"healthz\")\n"
                },
                "streams": [],
                "config": {
                  "row_pivots": [
                    {
                      "field": "timestamp",
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "column_pivots": [],
                  "series": [
                    {
                      "config": {
                        "name": null
                      },
                      "function": "count()"
                    }
                  ],
                  "sort": [],
                  "visualization": "bar",
                  "visualization_config": null,
                  "formatting_settings": null,
                  "rollup": true,
                  "event_annotation": false
                }
              }
            ],
            "widget_mapping": {
              "e38b9633-60ce-4b00-986d-236eed7aaa28": [
                "5c0123f0-2314-4208-9cdc-6d12bbd3abb5"
              ],
              "638e9cd1-3597-4d8c-a05a-f91eec75d99e": [
                "e8bdd54e-6b0d-426d-a321-42410c138f3d"
              ]
            },
            "positions": {
              "e38b9633-60ce-4b00-986d-236eed7aaa28": {
                "col": 1,
                "row": 1,
                "height": 2,
                "width": "Infinity"
              },
              "638e9cd1-3597-4d8c-a05a-f91eec75d99e": {
                "col": 1,
                "row": 3,
                "height": 6,
                "width": "Infinity"
              }
            },
            "formatting": {
              "highlighting": []
            },
            "display_mode_settings": {
              "positions": {}
            }
          }
        },
        "owner": "admin",
        "created_at": "2022-03-15T09:30:52.910Z"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "input",
        "version": "1"
      },
      "id": "6020b3c0-628d-4e95-ae28-9fe181045d33",
      "data": {
        "title": {
          "@type": "string",
          "@value": "Preprocessing"
        },
        "configuration": {
          "topic_filter": {
            "@type": "string",
            "@value": "^preprocessing.logs$"
          },
          "fetch_wait_max": {
            "@type": "integer",
            "@value": 100
          },
          "offset_reset": {
            "@type": "string",
            "@value": "largest"
          },
          "zookeeper": {
            "@type": "string",
            "@value": "127.0.0.1:2181"
          },
          "threads": {
            "@type": "integer",
            "@value": 2
          },
          "custom_properties": {
            "@type": "string",
            "@value": ""
          },
          "force_rdns": {
            "@type": "boolean",
            "@value": false
          },
          "store_full_message": {
            "@type": "boolean",
            "@value": false
          },
          "expand_structured_data": {
            "@type": "boolean",
            "@value": false
          },
          "group_id": {
            "@type": "string",
            "@value": "graylog2"
          },
          "throttling_allowed": {
            "@type": "boolean",
            "@value": false
          },
          "fetch_min_bytes": {
            "@type": "integer",
            "@value": 5
          },
          "legacy_mode": {
            "@type": "boolean",
            "@value": false
          },
          "override_source": {
            "@type": "string",
            "@value": "preprocessing"
          },
          "allow_override_date": {
            "@type": "boolean",
            "@value": true
          },
          "bootstrap_server": {
            "@type": "string",
            "@value": "kafka.logging.svc.cluster.local:9092"
          }
        },
        "static_fields": {},
        "type": {
          "@type": "string",
          "@value": "org.graylog2.inputs.syslog.kafka.SyslogKafkaInput"
        },
        "global": {
          "@type": "boolean",
          "@value": false
        },
        "extractors": [
          {
            "title": {
              "@type": "string",
              "@value": "unjson"
            },
            "type": {
              "@type": "string",
              "@value": "JSON"
            },
            "cursor_strategy": {
              "@type": "string",
              "@value": "COPY"
            },
            "target_field": {
              "@type": "string",
              "@value": ""
            },
            "source_field": {
              "@type": "string",
              "@value": "message"
            },
            "configuration": {
              "list_separator": {
                "@type": "string",
                "@value": ", "
              },
              "kv_separator": {
                "@type": "string",
                "@value": "="
              },
              "key_prefix": {
                "@type": "string",
                "@value": ""
              },
              "key_separator": {
                "@type": "string",
                "@value": "_"
              },
              "replace_key_whitespace": {
                "@type": "boolean",
                "@value": false
              },
              "key_whitespace_replacement": {
                "@type": "string",
                "@value": "_"
              }
            },
            "converters": [],
            "condition_type": {
              "@type": "string",
              "@value": "NONE"
            },
            "condition_value": {
              "@type": "string",
              "@value": ""
            },
            "order": {
              "@type": "integer",
              "@value": 0
            }
          }
        ]
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "input",
        "version": "1"
      },
      "id": "11a05efb-da08-4c96-9274-e27b64a88b0d",
      "data": {
        "title": {
          "@type": "string",
          "@value": "WcTiler"
        },
        "configuration": {
          "topic_filter": {
            "@type": "string",
            "@value": "^wctiler.logs$"
          },
          "fetch_wait_max": {
            "@type": "integer",
            "@value": 100
          },
          "offset_reset": {
            "@type": "string",
            "@value": "largest"
          },
          "zookeeper": {
            "@type": "string",
            "@value": "127.0.0.1:2181"
          },
          "threads": {
            "@type": "integer",
            "@value": 2
          },
          "custom_properties": {
            "@type": "string",
            "@value": ""
          },
          "group_id": {
            "@type": "string",
            "@value": "graylog2"
          },
          "throttling_allowed": {
            "@type": "boolean",
            "@value": false
          },
          "fetch_min_bytes": {
            "@type": "integer",
            "@value": 5
          },
          "legacy_mode": {
            "@type": "boolean",
            "@value": false
          },
          "override_source": {
            "@type": "string",
            "@value": "wctiler"
          },
          "bootstrap_server": {
            "@type": "string",
            "@value": "kafka.logging.svc.cluster.local:9092"
          }
        },
        "static_fields": {},
        "type": {
          "@type": "string",
          "@value": "org.graylog2.inputs.raw.kafka.RawKafkaInput"
        },
        "global": {
          "@type": "boolean",
          "@value": false
        },
        "extractors": []
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline_rule",
        "version": "1"
      },
      "id": "6675615e-6389-4bc5-9a35-835f3287735f",
      "data": {
        "title": {
          "@type": "string",
          "@value": "function_keycloak_extract_username_events"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "rule \"function_keycloak_extract_username_events\"\nwhen\n  has_field(\"log\")\nthen\n    let args = regex(\" username=(\\\\S*),\",to_string($message.log));\n    set_field(\"username\", args[\"0\"]);\nend\n"
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "input",
        "version": "1"
      },
      "id": "1587f954-0289-4ad0-9da7-f71e007a6bbd",
      "data": {
        "title": {
          "@type": "string",
          "@value": "RDM"
        },
        "configuration": {
          "topic_filter": {
            "@type": "string",
            "@value": "^rdm.logs$"
          },
          "fetch_wait_max": {
            "@type": "integer",
            "@value": 100
          },
          "offset_reset": {
            "@type": "string",
            "@value": "largest"
          },
          "zookeeper": {
            "@type": "string",
            "@value": "127.0.0.1:2181"
          },
          "threads": {
            "@type": "integer",
            "@value": 2
          },
          "custom_properties": {
            "@type": "string",
            "@value": ""
          },
          "group_id": {
            "@type": "string",
            "@value": "graylog2"
          },
          "throttling_allowed": {
            "@type": "boolean",
            "@value": false
          },
          "fetch_min_bytes": {
            "@type": "integer",
            "@value": 5
          },
          "legacy_mode": {
            "@type": "boolean",
            "@value": false
          },
          "override_source": {
            "@type": "string",
            "@value": "RDM"
          },
          "bootstrap_server": {
            "@type": "string",
            "@value": "kafka.logging.svc.cluster.local:9092"
          }
        },
        "static_fields": {},
        "type": {
          "@type": "string",
          "@value": "org.graylog2.inputs.raw.kafka.RawKafkaInput"
        },
        "global": {
          "@type": "boolean",
          "@value": false
        },
        "extractors": []
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline",
        "version": "1"
      },
      "id": "ea2afa1f-c573-47f1-a026-e3e5e62c76ac",
      "data": {
        "title": {
          "@type": "string",
          "@value": "Keycloak Pipeline"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "pipeline \"Keycloak Pipeline\"\nstage 0 match either\nrule \"function_keycloak_extract_type_events\"\nrule \"function_keycloak_extract_error_events\"\nrule \"function_keycloak_extract_client_events\"\nrule \"function_keycloak_extract_username_events\"\nend"
        },
        "connected_streams": [
          {
            "@type": "string",
            "@value": "6a972024-ca80-4ef6-ab06-331b2a0960ad"
          }
        ]
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline",
        "version": "1"
      },
      "id": "8fbf1a12-155f-4adb-b6c2-51339f31199d",
      "data": {
        "title": {
          "@type": "string",
          "@value": "Processing"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "pipeline \"Processing\"\nstage 0 match either\nend"
        },
        "connected_streams": [
          {
            "@type": "string",
            "@value": "e5974dd5-9658-4e4c-b725-480c4c14ceb6"
          }
        ]
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=4.1.3+9d79c05"
        }
      ]
    }
  ]
}